<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="meow">
  
  
  
  <link rel="prev" href="https://ash-z01.github.io/2020/boolandcondition/" />
  
  <link rel="canonical" href="https://ash-z01.github.io/2020/recursion/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Recursion of Lambda-Calculus | E-Meow Site
       
  </title>
  <meta name="title" content="Recursion of Lambda-Calculus | E-Meow Site">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/ash-z01.github.io\/"
    },
    "articleSection" : "posts",
    "name" : "Recursion of Lambda-Calculus",
    "headline" : "Recursion of Lambda-Calculus",
    "description" : "ä»å‰æœ‰åº§å±±ï¼Œå±±é‡Œæœ‰åº§åº™ï¼Œåº™é‡Œæœ‰ä¸ªè€å’Œå°šï¼Œæ­£åœ¨ç»™å°å’Œå°šè®²æ•…äº‹å‘¢ï¼æ•…äº‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿâ€œä»å‰æœ‰åº§å±±ï¼Œå±±é‡Œæœ‰åº§åº™ï¼Œåº™é‡Œæœ‰ä¸ªè€å’Œå°šï¼Œæ­£åœ¨ç»™å°å’Œå°šè®²æ•…äº‹å‘¢ï¼æ•…äº‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿâ€˜ä»å‰æœ‰åº§å±±ï¼Œå±±é‡Œæœ‰åº§åº™ï¼Œåº™é‡Œæœ‰ä¸ªè€å’Œå°šï¼Œæ­£åœ¨ç»™å°å’Œå°šè®²æ•…äº‹å‘¢ï¼æ•…äº‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿâ€¦â€¦â€™â€\n 0x01 ä¸åŠ¨ç‚¹ å®šä¹‰å‡½æ•° ğ‘“:â„â†¦â„ï¼Œå¦‚æœ âˆƒğ‘¥âˆˆğ·(ğ‘“)ï¼Œä½¿å¾— ğ‘¥=ğ‘“(ğ‘¥)ï¼Œåˆ™ç§°ç‚¹ ğ‘¥ æ˜¯å‡½æ•° ğ‘“(ğ‘¥) çš„ä¸åŠ¨ç‚¹.\n\/\/ ç­‰å¼ x = f(x) å¯ä»¥è¿›è¡Œå¦‚ä¸‹çš„æ— ç©·å˜æ¢ x = f(x) = f(f(x)) = f(f(f(x))) = ... 0x02 é€’å½’ é€’å½’çš„å¼ºå¤§ä¹‹å¤„åœ¨äºå®ƒå…è®¸ç”¨æˆ·ç”¨æœ‰é™çš„è¯­å¥æè¿°æ— é™çš„å¯¹è±¡! ç‘å£«çš„è®¡ç®—æœºç§‘å­¦å®¶ å°¼å…‹åŠ³æ–¯Â·ç»´å°”ç‰¹ è¿™æ ·è¯´é“..\nè€ƒè™‘ é˜¶ä¹˜å‡½æ•° fact çš„å®šä¹‰:\nfact n = 1 if n == 0 else (n * fact (n-1)) \/\/ å°è¯•è¿›è¡Œ lambda æŠ½è±¡ [å¿½ç•¥è¡¨è¾¾å¼çš„ç»†èŠ‚] let zero? = lambda c x y . if-then-else (c == 0) x y let pred = lambda x .",
    "inLanguage" : "en-us",
    "author" : "ash",
    "creator" : "ash",
    "publisher": "ash",
    "accountablePerson" : "ash",
    "copyrightHolder" : "ash",
    "copyrightYear" : "2020",
    "datePublished": "2020-11-23 15:57:10 \x2b0800 CST",
    "dateModified" : "2020-11-23 15:57:10 \x2b0800 CST",
    "url" : "https:\/\/ash-z01.github.io\/2020\/recursion\/",
    "wordCount" : "1259",
    "keywords" : [ "Lambda","Î»","Î»-æ¼”ç®—", "E-Meow Site"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch">
                
                ğŸ¾
            </a>&nbsp;<a href="https://ash-z01.github.io/">E-Meow Site</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-right"></i></a>&nbsp;<a href="https://ash-z01.github.io/">E-Meow Site</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Recursion of Lambda-Calculus</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://ash-z01.github.io/" rel="author">ash</a> ğŸ±â€ğŸ’» 
                <span class="post-time">
                on <time datetime=2020-11-23 itemprop="datePublished">November 23, 2020</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://ash-z01.github.io/categories/lambda%E5%A5%A5%E7%A7%98/"> Lambdaå¥¥ç§˜ </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          <blockquote>
<p>ä»å‰æœ‰åº§å±±ï¼Œå±±é‡Œæœ‰åº§åº™ï¼Œåº™é‡Œæœ‰ä¸ªè€å’Œå°šï¼Œæ­£åœ¨ç»™å°å’Œå°šè®²æ•…äº‹å‘¢ï¼æ•…äº‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿâ€œä»å‰æœ‰åº§å±±ï¼Œå±±é‡Œæœ‰åº§åº™ï¼Œåº™é‡Œæœ‰ä¸ªè€å’Œå°šï¼Œæ­£åœ¨ç»™å°å’Œå°šè®²æ•…äº‹å‘¢ï¼æ•…äº‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿâ€˜ä»å‰æœ‰åº§å±±ï¼Œå±±é‡Œæœ‰åº§åº™ï¼Œåº™é‡Œæœ‰ä¸ªè€å’Œå°šï¼Œæ­£åœ¨ç»™å°å’Œå°šè®²æ•…äº‹å‘¢ï¼æ•…äº‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿâ€¦â€¦â€™â€</p>
</blockquote>
<h2 id="0x01-ä¸åŠ¨ç‚¹">0x01 ä¸åŠ¨ç‚¹</h2>
<p>å®šä¹‰å‡½æ•° ğ‘“:â„â†¦â„ï¼Œå¦‚æœ âˆƒğ‘¥âˆˆğ·(ğ‘“)ï¼Œä½¿å¾— ğ‘¥=ğ‘“(ğ‘¥)ï¼Œåˆ™ç§°ç‚¹ ğ‘¥ æ˜¯å‡½æ•° ğ‘“(ğ‘¥) çš„ä¸åŠ¨ç‚¹.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-md" data-lang="md">// ç­‰å¼ x = f(x) å¯ä»¥è¿›è¡Œå¦‚ä¸‹çš„æ— ç©·å˜æ¢

x = f(x)
  = f(f(x))
  = f(f(f(x)))
  = ...
</code></pre></div><h2 id="0x02-é€’å½’">0x02 é€’å½’</h2>
<p>é€’å½’çš„å¼ºå¤§ä¹‹å¤„åœ¨äºå®ƒå…è®¸ç”¨æˆ·ç”¨æœ‰é™çš„è¯­å¥æè¿°æ— é™çš„å¯¹è±¡! ç‘å£«çš„è®¡ç®—æœºç§‘å­¦å®¶ <code>å°¼å…‹åŠ³æ–¯Â·ç»´å°”ç‰¹</code> è¿™æ ·è¯´é“..</p>
<p>è€ƒè™‘ é˜¶ä¹˜å‡½æ•° fact çš„å®šä¹‰:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-md" data-lang="md">fact n = 1 if n == 0 else (n <span style="font-style:italic">* fact (n-1))
</span><span style="font-style:italic">
</span><span style="font-style:italic">// å°è¯•è¿›è¡Œ lambda æŠ½è±¡ [å¿½ç•¥è¡¨è¾¾å¼çš„ç»†èŠ‚]
</span><span style="font-style:italic">let zero? = lambda c x y . if-then-else (c == 0) x y
</span><span style="font-style:italic">let pred = lambda x . x - 1
</span><span style="font-style:italic">
</span><span style="font-style:italic">fact = lambda n . zero? n 1 fact(n *</span> (pred n))

// å³ä¾§è¿˜æ˜¯æœ‰factï¼Œæ€ä¹ˆåŠï¼Œå†æ¬¡ä½¿ç”¨lambda, æŠŠå®ƒæ‹½å‡ºæ¥è¯•è¯•..

fact = (lambda f . (lambda n . zero? n 1 f(n * (pred n)))) fact

// çœ‹ç€å¥½ä¹±ï¼ŒæŠ½è±¡ä¸€ä¸‹å§..
F = E(F) // Fæ˜¯fact, Eæ˜¯ä¸­é—´çš„lambdaå‡½æ•°
  = E(E(F)) // å‘ç°å¯ä»¥æ— ç©·æ›¿æ¢å“!!!!!!
  = E(E(E(F)))
  = ...
</code></pre></div><p>ä¹Ÿå°±æ˜¯è¯´, <code>F</code> æ˜¯ <code>E</code> çš„ä¸åŠ¨ç‚¹ï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°çœ‹ç€å¥½å¤æ‚é¸­ï¼Œæˆ‘è¯¥å¦‚ä½•æ±‚è§£å‘¢(è¿™é‡Œå…ˆä¸è®¨è®ºé«˜é˜¶å‡½æ•°çš„æ±‚è§£æ–¹æ³•)~ å¦‚æœæ— æ³•è§£å‡º <code>F</code> å²‚ä¸ç™½é«˜å…´ä¸€åœº..</p>
<h2 id="0x03-ä¼ è¯´ä¸­çš„-yç»„åˆå­">0x03 ä¼ è¯´ä¸­çš„ Yç»„åˆå­</h2>
<p>å¬å”¤!! <code>Yç»„åˆå­</code> !! ä¸€èµ·æ¥ç…ç…è¿™æ˜¯ä¸ªå•¥ä¸œä¸œ~</p>
<p><code>Yç»„åˆå­</code> ä½œä¸ºé«˜çº§å‡½æ•°ä¸åŠ¨ç‚¹çš„ <code>&quot;é€šç”¨æ±‚æ ¹å…¬å¼&quot;</code>ï¼Œåªè¦å‡½æ•°å­˜åœ¨ä¸åŠ¨ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ <code>Yç»„åˆå­</code> ç»“åˆå‡½æ•°ï¼Œè¿›è¡Œæ±‚è§£</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-md" data-lang="md">Y(E) = F
     = E(F)      // F = E(F) 
     = E(Y(E))
     = E(E(Y(E)))
</code></pre></div><p>åˆ©ç”¨ <code>Yç»„åˆå­</code> å¯ä»¥æ±‚è§£å¾—åˆ° <code>F</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-md" data-lang="md">F = Y(E)
  = Y(lambda f . (lambda n . zero? n 1 f(n * (pred n))))
</code></pre></div><p>é‚£ä¹ˆè¿™ä¸ª <code>Y</code> åˆ°åº•é•¿å•¥æ ·é¸­~ (æˆ‘åä¸å‘Šè¯‰ä½ , è‡ªå·±åŠ¨æ‰‹ï¼Œä¸°è¡£è¶³é£Ÿï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæœ‰è¶£çš„å°æ —å­, ä¸€èµ·æ¨å¯¼ä¸€ä¸‹å§)</p>
<h2 id="0x04-æ¨å¯¼-y-ç»„åˆå­ç¼–ç¨‹">0x04 æ¨å¯¼ Y ç»„åˆå­[ç¼–ç¨‹]</h2>
<p>è¿™èŠ‚æˆ‘ä»¬å°†ä»ä¸€ä¸ªå¸¸è§çš„å‡½æ•°å‡ºå‘ï¼Œç¼–ç¨‹æ¨å¯¼å‡º <code>Yç»„åˆå­</code> ï¼Œä¸ç†Ÿæ‚‰ç¼–ç¨‹çš„å°ä¼™ä¼´ï¼Œå¯ä»¥ç›´æ¥è·³è¿‡ï¼Œä¸è¿‡æˆ‘é‡‡ç”¨çš„Luaè¯­è¨€ç®€å•çµæ´»ï¼Œå¾ˆæ–¹ä¾¿é˜…è¯»ç†è§£çš„ï¼Œé‚£ä¹ˆå¼€å§‹å§~</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua">arr <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>} <span style="color:#75715e">-- Luaä¸­å®šä¹‰çš„æ•°ç»„(å…¶å®æ˜¯è¡¨ï¼Œä¸ç”¨åœ¨æ„è¿™äº›ç»†èŠ‚)</span>
<span style="color:#75715e">-- é‚£ä¹ˆå¦‚æœ æˆ‘æƒ³ æ±‚è§£ arr çš„é•¿åº¦è¯¥æ€ä¹ˆåšå‘¢</span>
<span style="color:#75715e">-- ä¸å°‘è¯­è¨€éƒ½æœ‰å†…ç½®çš„å‡½æ•°æˆ–è€…æ–¹æ³•æˆ–è€…è¯­æ³•ç³– å¯ä»¥æ–¹ä¾¿çš„æ±‚å‡º</span>
<span style="color:#75715e">-- Luaå½“ç„¶ä¹Ÿæœ‰å•¦,ç»§ç»­å¾€ä¸‹çœ‹</span>
print(<span style="color:#f92672">#</span>arr) <span style="color:#75715e">-- 5, å“ˆå“ˆï¼Œæˆ‘ä»¬æˆåŠŸå¾—åˆ°äº† æ•°ç»„arr çš„é•¿åº¦</span>

<span style="color:#75715e">-- ç”Ÿå‘½ä¸æ¯ï¼ŒæŠ˜è…¾ä¸æ­¢ï¼Œå¦‚æœæˆ‘ä¸è®©ä½ ä½¿ç”¨å†…ç½®çš„è¯­æ³•ï¼Œè¯¥æ€ä¹ˆåšå‘¢?</span>
<span style="color:#75715e">-- èªæ˜çš„ä½ è‚¯å®šæƒ³åˆ°äº†é¸­</span>
<span style="color:#75715e">-- ç”±äºLuaçš„æ•°ç»„å…¶å®æ˜¯è¡¨ï¼Œæ‰€ä»¥æ•°ç»„çš„éç©ºåˆ¤æ–­ã€ç›¸ç­‰æ€§æ¯”è¾ƒéƒ½æ¯”è¾ƒéº»çƒ¦</span>

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">rlen</span>(arr)
    <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span> <span style="color:#75715e">-- ç©ºè¡¨åˆ¤æ–­ arr == {}</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">else</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>) <span style="color:#75715e">-- Luaä¸‹æ ‡ä»1å¼€å§‹</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> rlen(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>
print(rlen(arr)) <span style="color:#75715e">-- å˜¿å˜¿ï¼Œè¿˜æ˜¯5ï¼Œè½»è½»æ¾æ¾~</span>

<span style="color:#75715e">-- ä½ ä»¥ä¸ºè¿™å°±å®Œäº†? TYTN</span>
<span style="color:#75715e">-- ä¸Šé¢çš„rlenå‡½æ•°ï¼Œå‡½æ•°ä½“ä¸­é€’å½’è°ƒç”¨äº†rlenæœ¬èº«ï¼Œä½†æ˜¯ä½¿ç”¨äº†å‡½æ•°åï¼Œç°åœ¨è¦æ±‚å‡½æ•°ä½“å†…ä¸å…è®¸ä½¿ç”¨å‡½æ•°å.</span>
<span style="color:#75715e">-- çº³å°¼ï¼ï¼Ÿæˆ‘çœ‹ï¼Œä½ æ˜¯åœ¨åˆéš¾æˆ‘èƒ–è™ï¼ï¼</span>

len  <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(arr)
    <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span> <span style="color:#75715e">-- ç©ºè¡¨åˆ¤æ–­ arr == {}</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">else</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>) <span style="color:#75715e">-- Luaä¸‹æ ‡ä»1å¼€å§‹</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#960050;background-color:#1e0010">???</span>(arr)  <span style="color:#75715e">-- è¿™é‡Œæ€ä¹ˆåŠé¸­</span>
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- å…ˆæ¥çœ‹ç‚¹åˆ«çš„, è¿™ä¸ªå‡½æ•°åšå•¥é¸­ï¼Œå¥½åƒä¸æ–­è°ƒç”¨è‡ªèº«ï¼Œæ°¸è¿œä¸ä¼šåœæ­¢!</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">eternity</span>(x)
    <span style="color:#66d9ef">return</span> eternity(x)
<span style="color:#66d9ef">end</span>

len  <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(arr)
    <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">else</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> eternity(arr)  <span style="color:#75715e">-- ç”¨eternityä»£æ›¿??? æ˜¯çš„ç¨‹åºå¯ä»¥è¿è¡Œ</span>
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- ä¿—è¯è¯´ï¼Œå¿ƒæ€¥åƒä¸äº†çƒ­è±†è…, æˆ‘ä»¬æ±‚ä¸äº†é‚£ä¹ˆé•¿çš„æ•°ç»„é•¿åº¦ï¼Œæ±‚ä¸ªç©ºæ•°ç»„è¯•è¯•ï¼Œ</span>
<span style="color:#75715e">-- æ—¢ç„¶æ˜¯ç©ºæ•°ç»„ï¼Œé•¿åº¦å°±æ˜¯0äº†</span>

len0 <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (arr)
    <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">end</span>
    table.remove(arr, <span style="color:#ae81ff">1</span>)
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> eternity(arr)
<span style="color:#66d9ef">end</span>
print(len0({}))  <span style="color:#75715e">-- å˜¿å˜¿ï¼ŒæˆåŠŸ</span>

<span style="color:#75715e">-- é‚£é•¿åº¦ä¸º1çš„æ•°ç»„ï¼Œæˆ‘ä¹Ÿèƒ½æ±‚äº†</span>
len1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (arr)
    <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">end</span>
    table.remove(arr, <span style="color:#ae81ff">1</span>)
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> len0(arr)
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- å±•å¼€</span>
len1_1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (arr)
    <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">end</span>
    table.remove(arr, <span style="color:#ae81ff">1</span>)
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> (<span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> eternity(arr)
    <span style="color:#66d9ef">end</span>)(arr)
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- é‚£é•¿åº¦ä¸º2çš„æ•°ç»„ä¹Ÿä¸åœ¨è¯ä¸‹äº†~</span>
len2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (arr)
    <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">end</span>
    table.remove(arr, <span style="color:#ae81ff">1</span>)
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> (<span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> (<span style="color:#66d9ef">function</span> (arr)
            <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
                <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
            <span style="color:#66d9ef">end</span>
            table.remove(arr, <span style="color:#ae81ff">1</span>)
            <span style="color:#66d9ef">return</span>  <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> eternity(arr)
        <span style="color:#66d9ef">end</span>)(arr)
    <span style="color:#66d9ef">end</span>)(arr)
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- å‡½æ•°å†…éƒ¨å¥½åƒæŒºå¤šé‡å¤çš„éƒ¨åˆ†ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æå–å‡ºæ¥</span>

<span style="color:#75715e">-- æ•°ç»„ä¸ºç©º</span>
length0 <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)(eternity)

<span style="color:#75715e">-- æ•°ç»„é•¿åº¦ä¸º1</span>
length1 <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)(length0)

<span style="color:#75715e">-- å±•å¼€çœ‹çœ‹</span>
length1_1 <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)((<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)(eternity))

<span style="color:#75715e">-- å†çœ‹çœ‹æ•°ç»„é•¿åº¦æ˜¯2çš„</span>
length2 <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)((<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)((<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)(eternity)))

<span style="color:#75715e">-- å¥½åƒæ˜¯ f(f(f(ete))) è¿™æ ·çš„æ¨¡å¼, å†æå–çœ‹çœ‹..</span>
<span style="color:#75715e">-- æ•°ç»„ä¸ºç©º</span>
len_0 <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> makelen(eternity)
<span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)

<span style="color:#75715e">-- æ•°ç»„é•¿åº¦ä¸º1</span>
len_1 <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> makelen(makelen(eternity))
<span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)

<span style="color:#75715e">-- æ•°ç»„é•¿åº¦ä¸º2</span>
len_2 <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> makelen(makelen(makelen(eternity)))
<span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)

<span style="color:#75715e">-- æ•°ç»„é•¿åº¦ä¸º3</span>
len_3 <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> makelen(makelen(makelen(makelen(eternity))))
<span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)

<span style="color:#75715e">-- emmm...æœ‰ç‚¹ç¥å¥‡å“ˆ~</span>

<span style="color:#75715e">-- æ—¢ç„¶eternityå‡½æ•°æ‰§è¡Œä¸åˆ°ï¼Œå¯ä»¥æ›¿æ¢äº†</span>
lenx0 <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> makelen(makelen)
<span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)

<span style="color:#75715e">-- ä»”ç»†çœ‹çœ‹, å¥½åƒlengthå‡½æ•°çš„åå­—å·²ç»ä¸å½±å“æ•´ä½“äº†, ä¹Ÿæ›¿æ¢</span>
lenxx0 <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> makelen(makelen)
<span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> makelen(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)

<span style="color:#75715e">-- å±•å¼€</span>
lenxx000 <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> makelen(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> makelen(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)

<span style="color:#75715e">-- æŠŠå‡½æ•°è‡ªèº«ä½œä¸ºå‚æ•°ï¼Œä¼ ç»™è‡ªèº«è¿›è¡Œè§„çº¦</span>

<span style="color:#75715e">-- å½“ä¼ å…¥{}æ•°ç»„æ—¶, è¿”å›0</span>
<span style="color:#75715e">-- ä¼ å…¥{1}æ—¶, è¿”å› 1 + æ„é€ å‡ºæ¥æ”¶ä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›èƒ½å¤Ÿè®¡ç®—ç©ºæ•°ç»„é•¿åº¦çš„å‡½æ•°</span>
<span style="color:#75715e">-- é‚£ä¹ˆå¦‚æœæ„é€ å‡ºçš„å‡½æ•°ä¹Ÿæ˜¯è‡ªå·±å‘¢ï¼Ÿ</span>

lenxx0000 <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (arr)
    <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">end</span>
    table.remove(arr, <span style="color:#ae81ff">1</span>)
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> (<span style="color:#66d9ef">function</span> (makelen)
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
            <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
                <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
            <span style="color:#66d9ef">end</span>
            table.remove(arr, <span style="color:#ae81ff">1</span>)
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> makelen(arr)
        <span style="color:#66d9ef">end</span>
    <span style="color:#66d9ef">end</span>)(arr)
<span style="color:#66d9ef">end</span>

lenx <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> makelen(makelen)
<span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> (makelen(makelen))(arr) 
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)

<span style="color:#75715e">-- !!!å¤§åŠŸå‘Šæˆ!!! </span>
<span style="color:#75715e">-- è¿›ä¸€æ­¥æå–</span>

newlen <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> makelen(makelen)
<span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#75715e">-- return 1 + (makelen(makelen))(arr)</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> (<span style="color:#66d9ef">function</span> (x)    <span style="color:#75715e">-- call-by-valueçš„æ±‚å€¼ç­–ç•¥ä¸‹ï¼Œé¿å…æ— é™åœ°å‚æ•°æ±‚å€¼</span>
            <span style="color:#66d9ef">return</span> makelen(makelen)(x)
        <span style="color:#66d9ef">end</span>)(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)

newlenxx <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> makelen(makelen)
<span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">function</span> (length)
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
            <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
                <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
            <span style="color:#66d9ef">end</span>
            table.remove(arr, <span style="color:#ae81ff">1</span>)
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
        <span style="color:#66d9ef">end</span>
    <span style="color:#75715e">-- end)((makelen(makelen)))</span>
    <span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (x)
        <span style="color:#66d9ef">return</span> makelen(makelen)(x)
    <span style="color:#66d9ef">end</span>)
<span style="color:#66d9ef">end</span>)


nnlen <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (makelen)
    <span style="color:#66d9ef">return</span> makelen(makelen)
<span style="color:#66d9ef">end</span>)((<span style="color:#66d9ef">function</span> (flen)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (makelen)
        <span style="color:#66d9ef">return</span> flen(<span style="color:#66d9ef">function</span> (x)
            <span style="color:#66d9ef">return</span> makelen(makelen)(x)
        <span style="color:#66d9ef">end</span>)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>))


<span style="color:#75715e">-- åˆ°è¿™é‡Œå·®ä¸å¤šäº†ï¼Œè§‚å¯Ÿä¸€ä¸‹å‡½æ•°å½¢å¼ F = Y(E)</span>

nnnlen <span style="color:#f92672">=</span> (<span style="color:#66d9ef">function</span> (flen)
    <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">function</span> (makelen)
        <span style="color:#66d9ef">return</span> makelen(makelen)
    <span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (makelen)
        <span style="color:#66d9ef">return</span> flen(<span style="color:#66d9ef">function</span> (x)
            <span style="color:#66d9ef">return</span> makelen(makelen)(x)
        <span style="color:#66d9ef">end</span>)
    <span style="color:#66d9ef">end</span>)
<span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)

<span style="color:#75715e">-- æœ€ç»ˆæå– Y</span>

Y <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (f)
    <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">function</span> (u)
        <span style="color:#66d9ef">return</span> u(u)
    <span style="color:#66d9ef">end</span>)(<span style="color:#66d9ef">function</span> (u)
        <span style="color:#66d9ef">return</span> f(<span style="color:#66d9ef">function</span> (x)
            <span style="color:#66d9ef">return</span> u(u)(x)
        <span style="color:#66d9ef">end</span>)
    <span style="color:#66d9ef">end</span>)
<span style="color:#66d9ef">end</span>
finlen <span style="color:#f92672">=</span> Y(<span style="color:#66d9ef">function</span> (length)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (arr)
        <span style="color:#66d9ef">if</span> next(arr) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span>
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">end</span>
        table.remove(arr, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> length(arr)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>)

print(finlen({<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>}))

<span style="color:#75715e">-- ç»ˆäºç»“æŸäº†!!!  </span>
</code></pre></div><h2 id="0x05-ç»ˆäºè§åˆ°-y">0x05 ç»ˆäºè§åˆ° Y</h2>
<p>ç»è¿‡ä¸Šé¢çš„ç¼–ç¨‹æ¨æ¼”, æœ€ç»ˆå¾—åˆ°äº† <code>Yç»„åˆå­</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-md" data-lang="md">Y = Î»f.(Î»x.(f (x x)) Î»x.(f (x x)))  // Call-By-Name
Y = Î»f.(Î»u.(u u)) Î»x.(f Î»v.(x x v)) // Call-By-Value
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#75715e">// æœ€åç”¨ä¸€ä¸ªä¾‹å­å‡½æ•°gæ¥å±•å¼€å®ƒï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªå‡½æ•°æ˜¯å¦‚ä½•æˆä¸ºä¸€ä¸ªä¸åŠ¨ç‚¹ç»„åˆå­çš„
</span><span style="color:#75715e"></span>
(Y g)
    = (<span style="color:#960050;background-color:#1e0010">Î»</span>f.(<span style="color:#960050;background-color:#1e0010">Î»</span>x.(f (x x)) <span style="color:#960050;background-color:#1e0010">Î»</span>x.(f (x x))) g) <span style="color:#75715e">// å±•å¼€
</span><span style="color:#75715e"></span>    = (<span style="color:#960050;background-color:#1e0010">Î»</span>x.(g (x x)) <span style="color:#960050;background-color:#1e0010">Î»</span>x.(g (x x))) <span style="color:#75715e">// Î»fçš„Î²-å½’çº¦ - åº”ç”¨ä¸»å‡½æ•°äºg
</span><span style="color:#75715e"></span>    = (<span style="color:#960050;background-color:#1e0010">Î»</span>y.(g (y y)) <span style="color:#960050;background-color:#1e0010">Î»</span>x.(g (x x)))<span style="color:#75715e">// Î±-è½¬æ¢ - é‡å‘½åçº¦æŸå˜é‡
</span><span style="color:#75715e"></span>    = (g (<span style="color:#960050;background-color:#1e0010">Î»</span>x.(g (x x)) <span style="color:#960050;background-color:#1e0010">Î»</span>x.(g (x x)))) <span style="color:#75715e">// Î»yçš„Î²-å½’çº¦ - åº”ç”¨å·¦ä¾§å‡½æ•°äºå³ä¾§å‡½æ•°
</span><span style="color:#75715e"></span>    = (g (Y g)) <span style="color:#75715e">// Yçš„å®šä¹‰
</span></code></pre></div><h2 id="0x06-å‚è€ƒ">0x06 å‚è€ƒ</h2>
<ul>
<li><a href="https://zh.wikipedia.org/wiki/%E5%93%88%E6%96%AF%E5%87%AF%E5%B0%94%C2%B7%E6%9F%AF%E9%87%8C">wiki - å“ˆæ–¯å‡¯å°”Â·æŸ¯é‡Œ</a></li>
<li><a href="https://mitpress.mit.edu/books/little-schemer-fourth-edition">book - TheLittleSchemer</a></li>
<li><a href="...">paper - Programming Languages and Lambda Calculi</a></li>
<li><a href="https://zh.wikipedia.org/wiki/%E9%80%92%E5%BD%92">wiki - é€’å½’</a></li>
<li><a href="https://zh.wikipedia.org/wiki/%CE%9B%E6%BC%94%E7%AE%97">wiki - Î»æ¼”ç®—</a></li>
<li><a href="http://goodmath.blogspot.com/">blog - Good Math/Bad Math</a></li>
<li><a href="https://www.slideshare.net/yinwang0/reinventing-the-ycombinator">share - ç‹å </a></li>
<li><a href="...">paper - The Theory of Recursive Functions, Approaching its Centennial</a></li>
<li><a href="...">paper - è°ˆè°ˆ lambda</a></li>
<li><a href="...">paper - History of Lambda-calculus and Combinatory Logic</a></li>
</ul>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>meow </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://ash-z01.github.io/2020/recursion/>https://ash-z01.github.io/2020/recursion/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                æœ¬æ–‡é‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://ash-z01.github.io/tags/lambda/">
                    #Lambda</a></span>
            
            <span class="tag"><a href="https://ash-z01.github.io/tags/%CE%BB/">
                    #Î»</a></span>
            
            <span class="tag"><a href="https://ash-z01.github.io/tags/%CE%BB-%E6%BC%94%E7%AE%97/">
                    #Î»-æ¼”ç®—</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> Â· 
                <span><a href="https://ash-z01.github.io/">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://ash-z01.github.io/2020/boolandcondition/" class="prev" rel="prev" title="Bool and Condition of Lambda-Calculus"><i class="iconfont icon-left"></i>&nbsp;Bool and Condition of Lambda-Calculus</a>
         
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2020 - 2020</span>
        
        <span class="with-ash">
        
        ğŸš€
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://ash-z01.github.io/">meow</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
